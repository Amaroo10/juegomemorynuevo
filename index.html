<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memorice - Breden Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow-x: hidden;
        }
        
        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .card-3d.flipped {
            transform: rotateY(180deg);
        }
        
        .card-3d:active:not(.flipped) {
            transform: scale(0.95);
        }
        
        .card-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        
        .card-back {
            transform: rotateY(180deg);
        }
        
        @keyframes successPop {
            0% { transform: rotateY(180deg) scale(1); }
            50% { transform: rotateY(180deg) scale(1.2) rotate(5deg); }
            75% { transform: rotateY(180deg) scale(0.95) rotate(-3deg); }
            100% { transform: rotateY(180deg) scale(1) rotate(0deg); }
        }
        
        @keyframes sparkle {
            0% { 
                opacity: 0; 
                transform: scale(0) rotate(0deg); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.5) rotate(180deg); 
            }
            100% { 
                opacity: 0; 
                transform: scale(0) rotate(360deg); 
            }
        }
        
        @keyframes cardFlip {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(180deg); }
        }
        
        @keyframes cardFlipBack {
            0% { transform: rotateY(180deg); }
            100% { transform: rotateY(0deg); }
        }
        
        @keyframes shine {
            0% { box-shadow: 0 0 5px rgba(255, 255, 255, 0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 215, 0, 0.6); }
            100% { box-shadow: 0 0 5px rgba(255, 255, 255, 0.5); }
        }
        
        .card-matched .card-back {
            animation: successPop 0.8s ease-out, shine 2s ease-in-out infinite;
        }
        
        .sparkle-effect {
            position: absolute;
            font-size: 2.5rem;
            pointer-events: none;
            animation: sparkle 1s ease-out forwards;
            z-index: 1000;
        }
        
        @keyframes confettiFall {
            0% { 
                transform: translateY(-100vh) rotate(0deg); 
                opacity: 1; 
            }
            100% { 
                transform: translateY(100vh) rotate(720deg); 
                opacity: 0; 
            }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #f0f;
            animation: confettiFall 3s linear forwards;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
         const emojis = [
  '<img src="https://raw.githubusercontent.com/Amaroo10/juegomemorymauro/main/images/img1.png" class="card-img">',
  '<img src="https://raw.githubusercontent.com/Amaroo10/juegomemorymauro/main/images/img2.png" class="card-img">',
  '<img src="https://raw.githubusercontent.com/Amaroo10/juegomemorymauro/main/images/img3.png" class="card-img">',
  '<img src="https://raw.githubusercontent.com/Amaroo10/juegomemorymauro/main/images/img4.png" class="card-img">',
  '<img src="https://raw.githubusercontent.com/Amaroo10/juegomemorymauro/main/images/img5.png" class="card-img">',
  '<img src="https://raw.githubusercontent.com/Amaroo10/juegomemorymauro/main/images/img6.png" class="card-img">',
  '<img src="https://raw.githubusercontent.com/Amaroo10/juegomemorymauro/main/images/img7.png" class="card-img">',
  '<img src="https://raw.githubusercontent.com/Amaroo10/juegomemorymauro/main/images/img8.png" class="card-img">'
];
        
        let cards = [];
        let flipped = [];
        let solved = [];
        let moves = 0;
        let gameWon = false;
        let showInitial = true;
        let timer = 0;
        let gameStarted = false;
        let timerInterval = null;

        function initializeGame() {
            const shuffledCards = [...emojis, ...emojis]
                .sort(() => Math.random() - 0.5)
                .map((emoji, index) => ({ id: index, emoji }));
            
            cards = shuffledCards;
            flipped = [];
            solved = [];
            moves = 0;
            gameWon = false;
            showInitial = true;
            timer = 0;
            gameStarted = false;
            
            if (timerInterval) clearInterval(timerInterval);
            
            render();
            
            setTimeout(() => {
                showInitial = false;
                gameStarted = true;
                startTimer();
                render();
            }, 2000);
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                if (!gameWon) {
                    timer++;
                    render();
                }
            }, 1000);
        }

        function handleCardClick(id) {
            if (!gameStarted || showInitial || flipped.length === 2 || flipped.includes(id) || solved.includes(id)) {
                return;
            }

            const newFlipped = [...flipped, id];
            flipped = newFlipped;
            render();

            if (newFlipped.length === 2) {
                moves++;
                const [first, second] = newFlipped;
                if (cards[first].emoji === cards[second].emoji) {
                    // Agregar efecto visual de √©xito
                    setTimeout(() => {
                        createSparkles(first);
                        createSparkles(second);
                        createConfetti();
                    }, 300);
                    
                    setTimeout(() => {
                        solved = [...solved, first, second];
                        flipped = [];
                        
                        if (solved.length === emojis.length * 2) {
                            gameWon = true;
                            clearInterval(timerInterval);
                            createBigConfetti();
                        }
                        render();
                    }, 800);
                } else {
                    setTimeout(() => {
                        flipped = [];
                        render();
                    }, 1000);
                }
            }
        }

        function createSparkles(cardId) {
            const cardElement = document.querySelector(`[data-card-id="${cardId}"]`);
            if (!cardElement) return;
            
            const sparkleEmojis = ['‚ú®', '‚≠ê', 'üí´', 'üåü', '‚ú®', '‚≠ê'];
            
            for (let i = 0; i < 6; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle-effect';
                sparkle.textContent = sparkleEmojis[i];
                
                const angle = (i / 6) * Math.PI * 2;
                const distance = 60;
                const left = 50 + Math.cos(angle) * distance;
                const top = 50 + Math.sin(angle) * distance;
                
                sparkle.style.left = `${left}%`;
                sparkle.style.top = `${top}%`;
                sparkle.style.animationDelay = `${i * 0.1}s`;
                
                cardElement.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 1200);
            }
        }

        function createConfetti() {
            const colors = ['#FFD700', '#FF69B4', '#00CED1', '#FF1493', '#00FF00', '#FF4500'];
            
            for (let i = 0; i < 15; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = `${Math.random() * 0.3}s`;
                confetti.style.animationDuration = `${2 + Math.random() * 2}s`;
                
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 4000);
            }
        }

        function createBigConfetti() {
            const colors = ['#FFD700', '#FF69B4', '#00CED1', '#FF1493', '#00FF00', '#FF4500'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = `${Math.random() * 0.5}s`;
                confetti.style.animationDuration = `${2 + Math.random() * 2}s`;
                confetti.style.width = `${8 + Math.random() * 8}px`;
                confetti.style.height = `${8 + Math.random() * 8}px`;
                
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 5000);
            }
        }

        function render() {
            const app = document.getElementById('app');
            
            app.innerHTML = `
                <div class="min-h-screen flex flex-col items-center justify-center p-8 relative overflow-hidden"
                     style="background: linear-gradient(180deg, #EC4899 0%, #EC4899 15%, #FFFFFF 15%, #FFFFFF 85%, #8B4513 85%, #8B4513 100%);">
                    
                    <!-- Marco rosa superior con goteo -->
                    <div class="absolute top-0 left-0 right-0 h-48 z-0" style="background: #EC4899">
                        <svg class="absolute bottom-0 w-full" style="height: 80px" preserveAspectRatio="none" viewBox="0 0 1600 80">
                            <path d="M0,0 Q50,50 100,15 Q150,30 200,10 Q250,45 300,20 Q350,35 400,15 Q450,50 500,25 Q550,40 600,10 Q650,45 700,20 Q750,50 800,15 Q850,35 900,25 Q950,50 1000,20 Q1050,40 1100,10 Q1150,50 1200,25 Q1250,35 1300,15 Q1350,45 1400,20 Q1450,50 1500,25 Q1550,40 1600,15 L1600,0 L0,0 Z" 
                                  fill="#EC4899"/>
                        </svg>
                        <svg class="absolute bottom-0 w-full" style="height: 60px" preserveAspectRatio="none" viewBox="0 0 1600 60">
                            <path d="M0,0 Q40,40 80,10 Q120,35 160,15 Q200,40 240,20 Q280,45 320,15 Q360,40 400,20 Q440,50 480,25 Q520,35 560,15 Q600,45 640,20 Q680,40 720,15 Q760,50 800,20 Q840,40 880,15 Q920,45 960,25 Q1000,40 1040,15 Q1080,50 1120,20 Q1160,35 1200,15 Q1240,45 1280,25 Q1320,40 1360,15 Q1400,50 1440,20 Q1480,35 1520,15 Q1560,45 1600,25 L1600,0 L0,0 Z" 
                                  fill="#FECACA"/>
                        </svg>
                    </div>

                    <!-- Fondo blanco con donas -->
                    <div class="absolute inset-0 overflow-hidden">
                        <div class="absolute top-20 left-10 text-7xl opacity-20">üç©</div>
                        <div class="absolute top-32 left-1/4 text-6xl opacity-15">üç©</div>
                        <div class="absolute top-48 left-1/3 text-8xl opacity-10">üç©</div>
                        <div class="absolute top-64 left-1/2 text-5xl opacity-20">üç©</div>
                        <div class="absolute top-80 left-2/3 text-7xl opacity-15">üç©</div>
                        <div class="absolute top-96 left-3/4 text-6xl opacity-10">üç©</div>
                        <div class="absolute top-40 right-10 text-6xl opacity-20">üç©</div>
                        <div class="absolute top-56 right-1/4 text-8xl opacity-10">üç©</div>
                        <div class="absolute top-72 right-1/3 text-5xl opacity-15">üç©</div>
                        <div class="absolute bottom-96 left-20 text-6xl opacity-15">üç©</div>
                        <div class="absolute bottom-80 left-1/3 text-8xl opacity-10">üç©</div>
                        <div class="absolute bottom-64 right-20 text-5xl opacity-20">üç©</div>
                        <div class="absolute bottom-48 right-1/3 text-7xl opacity-10">üç©</div>
                        
                        <!-- Confeti -->
                        <div class="absolute top-24 left-1/5 w-3 h-7 bg-yellow-300 rotate-45 opacity-30"></div>
                        <div class="absolute top-36 right-1/5 w-4 h-6 bg-green-400 -rotate-12 opacity-30"></div>
                        <div class="absolute top-52 left-2/5 w-3 h-8 bg-orange-400 rotate-90 opacity-30"></div>
                        <div class="absolute top-68 right-2/5 w-4 h-6 bg-blue-300 -rotate-45 opacity-30"></div>
                        <div class="absolute bottom-72 right-1/5 w-4 h-6 bg-pink-300 -rotate-90 opacity-30"></div>
                    </div>
                    
                    <!-- Barra de madera -->
                    <div class="absolute bottom-0 left-0 right-0 h-32 z-0"
                         style="background: linear-gradient(180deg, #8B4513 0%, #6B3410 50%, #8B4513 100%); box-shadow: inset 0 4px 8px rgba(0,0,0,0.3), inset 0 -4px 8px rgba(0,0,0,0.2)">
                        <div class="absolute inset-0 flex">
                            <div class="flex-1 border-r-2 border-black/20"></div>
                            <div class="flex-1 border-r-2 border-black/20"></div>
                            <div class="flex-1 border-r-2 border-black/20"></div>
                            <div class="flex-1 border-r-2 border-black/20"></div>
                            <div class="flex-1 border-r-2 border-black/20"></div>
                            <div class="flex-1 border-r-2 border-black/20"></div>
                            <div class="flex-1"></div>
                        </div>
                    </div>
                    
                    <!-- Contenido -->
                    <div class="relative z-10 w-full flex flex-col items-center pb-32">
                        <!-- Header -->
                        <div class="text-center mb-12">
                            <h1 class="text-9xl font-bold text-white mb-6 drop-shadow-lg flex items-center justify-center gap-6">
                                <span class="text-yellow-300 text-8xl">‚ú®</span>
                                MEMORICE
                                <span class="text-yellow-300 text-8xl">‚ú®</span>
                            </h1>
                            <div class="flex gap-8 justify-center items-center text-5xl font-bold">
                                <div class="bg-black/70 backdrop-blur-lg rounded-3xl px-12 py-5 text-white border-4 border-white/50 shadow-xl">
                                    Puntos: <span class="text-yellow-300">${moves}</span>
                                </div>
                                <div class="bg-black/70 backdrop-blur-lg rounded-3xl px-12 py-5 text-white border-4 border-white/50 shadow-xl">
                                    Tiempo: <span class="text-yellow-300">${timer}s</span>
                                </div>
                                <button onclick="initializeGame()" 
                                        class="bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-3xl px-12 py-5 flex items-center gap-4 transition-all border-4 border-white/50 shadow-xl cursor-pointer text-5xl">
                                    üîÑ Reiniciar
                                </button>
                            </div>
                        </div>

                        <!-- Game Board -->
                        <div class="grid grid-cols-4 gap-10 max-w-none px-8">
                            ${cards.map(card => {
                                const isFlipped = showInitial || flipped.includes(card.id) || solved.includes(card.id);
                                const isSolved = solved.includes(card.id);
                                const isJustMatched = isSolved && !flipped.includes(card.id);
                                
                                return `
                                    <div onclick="handleCardClick(${card.id})" 
                                         data-card-id="${card.id}"
                                         class="relative cursor-pointer"
                                         style="perspective: 1000px;">
                                        <div class="card-3d relative w-64 h-64 ${isFlipped ? 'flipped' : ''} ${isJustMatched ? 'card-matched' : ''}"
                                             style="transform-style: preserve-3d;">
                                            
                                            <!-- Front (logo Breden Master) -->
                                            <div class="card-face absolute w-full h-full rounded-3xl flex items-center justify-center border-4 shadow-2xl border-white transition-shadow"
                                                 style="background-color: #DC2626;">
                                                <div class="w-full h-full flex flex-col items-center justify-center p-8">
                                                    <div class="bg-white rounded-t-full w-40 h-32 flex items-center justify-center mb-3 relative">
                                                        <div class="text-center">
                                                            <div class="text-red-600 font-bold text-3xl leading-tight">Breden</div>
                                                            <div class="text-red-600 font-bold text-2xl">Master.</div>
                                                        </div>
                                                    </div>
                                                    <div class="text-white text-center mt-4">
                                                        <div class="font-bold text-4xl leading-tight">Felicidad</div>
                                                        <div class="text-2xl mt-1">en cada mordida</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Back (contenido) -->
                                            <div class="card-face card-back absolute w-full h-full rounded-3xl flex items-center justify-center border-4 shadow-2xl transition-all ${
                                                isSolved ? 'bg-gradient-to-br from-cyan-400 to-blue-500 border-cyan-300' : 'bg-white border-gray-200'
                                            }">
                                                <span class="drop-shadow-lg" style="font-size: 10rem;">${card.emoji}</span>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>

                    <!-- Victory Modal -->
                    ${gameWon ? `
                        <div class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50">
                            <div class="bg-gradient-to-br from-yellow-400 via-orange-400 to-pink-500 rounded-3xl p-20 text-center border-8 border-white shadow-2xl">
                                <div style="font-size: 12rem;" class="mb-8">üèÜ</div>
                                <h2 class="text-9xl font-bold text-white mb-8">¬°GANASTE!</h2>
                                <p class="text-6xl text-white mb-10">
                                    Completado en <span class="font-bold">${moves}</span> movimientos
                                </p>
                                <button onclick="initializeGame()" 
                                        class="bg-white text-purple-600 text-5xl font-bold rounded-3xl px-16 py-8 transition-all cursor-pointer shadow-2xl">
                                    Jugar de Nuevo
                                </button>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        // Iniciar el juego
        initializeGame();
    </script>
</body>

</html>
